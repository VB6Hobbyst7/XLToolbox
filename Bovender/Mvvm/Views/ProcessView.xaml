<Window x:Class="Bovender.Mvvm.Views.ProcessView"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:vs="clr-namespace:Bovender.Mvvm.Views.Settings"
        xmlns:i="http://schemas.microsoft.com/expression/2010/interactivity"
        SizeToContent="WidthAndHeight"
        WindowStartupLocation="CenterScreen" Topmost="True" ShowInTaskbar="False"
        Title="{Binding Caption}" ResizeMode="NoResize"
        vs:WindowState.CenterScreen="True"
    >
    <!-- This window must have the TopMost property set to true, otherwise
    the progress bar might not be visibly updated. -->
    <i:Interaction.Triggers>
        <i:EventTrigger SourceObject="{Binding CompletedMessage}" EventName="Sent">
            <i:InvokeCommandAction Command="{Binding CloseViewCommand}" />
        </i:EventTrigger>
    </i:Interaction.Triggers>
    <StackPanel Margin="10">
        <ProgressBar Value="{Binding PercentCompleted}" Minimum="0" Maximum="1"
                     IsIndeterminate="{Binding IsIndeterminate}"
                     Width="300" Height="20" />
        <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,10,0,0">
            <Button IsCancel="True" IsDefault="True"
                    Content="{Binding CancelButtonText}" Padding="10,5,10,5" />
        </StackPanel>
    </StackPanel>
</Window>
